import{Aa as de,B as Z,Ba as le,C as q,Ca as ue,D as J,Ea as me,J as Q,K as h,M as X,N as k,R as ee,T as te,U,X as S,Y as c,Z as l,_ as v,a as V,ba as ne,c as M,ca as j,d as O,ea as F,g as m,i as d,j as N,ja as D,k as g,l as y,m as f,ma as re,n as B,oa as _,p as x,pa as oe,r as H,s as A,sa as ie,t as a,ta as P,u as G,v as $,va as se,w as z,x as K,xa as ae,ya as pe,z as Y,za as ce}from"./chunk-4WL5KJUM.js";crypto.randomUUID||(crypto.randomUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let r=Math.random()*16|0;return(t==="x"?r:r&3|8).toString(16)})});var L="Service workers are disabled or not supported by this browser",w=class{serviceWorker;worker;registration;events;constructor(r,e){if(this.serviceWorker=r,!r)this.worker=this.events=this.registration=new M(o=>o.error(new f(5601,!1)));else{let o=null,n=new O;this.worker=new M(p=>(o!==null&&p.next(o),n.subscribe(I=>p.next(I))));let s=()=>{let{controller:p}=r;p!==null&&(o=p,n.next(o))};r.addEventListener("controllerchange",s),s(),this.registration=this.worker.pipe(y(()=>r.getRegistration().then(p=>{if(!p)throw new f(5601,!1);return p})));let i=new O;this.events=i.asObservable();let u=p=>{let{data:I}=p;I?.type&&i.next(I)};r.addEventListener("message",u),e?.get(U,null,{optional:!0})?.onDestroy(()=>{r.removeEventListener("controllerchange",s),r.removeEventListener("message",u)})}}postMessage(r,e){return new Promise(o=>{this.worker.pipe(g(1)).subscribe(n=>{n.postMessage(V({action:r},e)),o()})})}postMessageWithOperation(r,e,o){let n=this.waitForOperationCompleted(o),s=this.postMessage(r,e);return Promise.all([s,n]).then(([,i])=>i)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(r){let e;return typeof r=="string"?e=o=>o.type===r:e=o=>r.includes(o.type),this.events.pipe(N(e))}nextEventOfType(r){return this.eventsOfType(r).pipe(g(1))}waitForOperationCompleted(r){return new Promise((e,o)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(N(n=>n.nonce===r),g(1),m(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).subscribe({next:e,error:o})})}get isEnabled(){return!!this.serviceWorker}},be=(()=>{class t{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new O;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=d,this.notificationClicks=d,this.notificationCloses=d,this.pushSubscriptionChanges=d,this.subscription=d;return}this.messages=this.sw.eventsOfType("PUSH").pipe(m(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(m(n=>n.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(m(n=>n.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(m(n=>n.data)),this.pushManager=this.sw.registration.pipe(m(n=>n.pushManager));let o=this.pushManager.pipe(y(n=>n.getSubscription()));this.subscription=new M(n=>{let s=o.subscribe(n),i=this.subscriptionChanges.subscribe(n);return()=>{s.unsubscribe(),i.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(L));let o={userVisibleOnly:!0},n=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return o.applicationServerKey=s,new Promise((i,u)=>{this.pushManager.pipe(y(C=>C.subscribe(o)),g(1)).subscribe({next:C=>{this.subscriptionChanges.next(C),i(C)},error:u})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(L));let e=o=>{if(o===null)throw new f(5602,!1);return o.unsubscribe().then(n=>{if(!n)throw new f(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((o,n)=>{this.subscription.pipe(g(1),y(e)).subscribe({next:o,error:n})})}decodeBase64(e){return atob(e)}static \u0275fac=function(o){return new(o||t)(A(w))};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})(),Ce=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=d,this.unrecoverable=d;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(L));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new f(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(o){return new(o||t)(A(w))};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})(),ge=new H("");function ye(){let t=a(E);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let r=a(ge),e=a(Z),o=a(U);e.runOutsideAngular(()=>{let n=navigator.serviceWorker,s=()=>n.controller?.postMessage({action:"INITIALIZE"});n.addEventListener("controllerchange",s),o.onDestroy(()=>{n.removeEventListener("controllerchange",s)})}),e.runOutsideAngular(()=>{let n,{registrationStrategy:s}=t;if(typeof s=="function")n=new Promise(i=>s().subscribe(()=>i()));else{let[i,...u]=(s||"registerWhenStable:30000").split(":");switch(i){case"registerImmediately":n=Promise.resolve();break;case"registerWithDelay":n=fe(+u[0]||0);break;case"registerWhenStable":n=Promise.race([o.whenStable(),fe(+u[0])]);break;default:throw new f(5600,!1)}}n.then(()=>{o.destroyed||navigator.serviceWorker.register(r,{scope:t.scope,updateViaCache:t.updateViaCache,type:t.type}).catch(i=>console.error(B(5604,!1)))})})}function fe(t){return new Promise(r=>setTimeout(r,t))}function xe(){let t=a(E),r=a(Y),e=!0;return new w(e&&t.enabled!==!1?navigator.serviceWorker:void 0,r)}var E=class{enabled;updateViaCache;type;scope;registrationStrategy};function he(t,r={}){return G([be,Ce,{provide:ge,useValue:t},{provide:E,useValue:r},{provide:w,useFactory:xe},te(ye)])}var ve=[{path:"",loadComponent:()=>import("./chunk-KS3PWG4I.js").then(t=>t.MenuComponent)},{path:"game",loadComponent:()=>import("./chunk-DPPTIC4G.js").then(t=>t.GameComponent)},{path:"summary",loadComponent:()=>import("./chunk-5LFCGYTW.js").then(t=>t.SummaryComponent)}];var we={providers:[ue(ve),ae(),q(),he("ngsw-worker.js",{enabled:!oe(),registrationStrategy:"registerWhenStable:30000"}),ce(pe())]};var b=class t{deferredPrompt=null;showInstallButton=J(!1,{});init(){typeof window>"u"||(window.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),this.deferredPrompt=r,this.showInstallButton.set(!0)}),window.addEventListener("appinstalled",()=>{this.showInstallButton.set(!1),this.deferredPrompt=null}))}async installPWA(){if(!this.deferredPrompt)return;this.deferredPrompt.prompt();let{outcome:r}=await this.deferredPrompt.userChoice;this.showInstallButton.set(!1),this.deferredPrompt=null}static \u0275fac=function(e){return new(e||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})};function Ee(t,r){if(t&1){let e=ne();c(0,"button",7),j("click",function(){$(e);let n=F();return z(n.onInstallClick())}),K(),c(1,"svg",8),v(2,"path",9)(3,"polyline",10)(4,"line",11),l(),D(5," Install "),l()}}function Ie(t,r){if(t&1&&(c(0,"div",12),D(1),l()),t&2){let e=F();h(),re(" ",e.currentIndex+1," / ",e.totalCards," ")}}var T=class t{pwaService=a(b);router=a(le);showCardCount=!1;currentIndex=0;totalCards=0;onInstallClick(){this.pwaService.installPWA()}onLogoClick(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-header"]],inputs:{showCardCount:"showCardCount",currentIndex:"currentIndex",totalCards:"totalCards"},decls:8,vars:2,consts:[[1,"bg-white/80","backdrop-blur-md","sticky","top-0","z-10","px-4","py-3","shadow-sm","flex","items-center","justify-between"],[1,"flex","items-center","gap-2","cursor-pointer",3,"click"],["src","apple-touch-icon.png","alt","Flashcards App",1,"w-8","h-8","rounded-lg"],[1,"text-xl","font-extrabold","bg-clip-text","text-transparent","bg-gradient-to-r","from-blue-600","to-indigo-600"],[1,"flex","items-center","gap-3"],["class","px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm transition-colors flex items-center gap-2",3,"click",4,"ngIf"],["class","text-sm font-medium text-slate-500",4,"ngIf"],[1,"px-3","py-1.5","bg-blue-600","hover:bg-blue-700","text-white","text-sm","font-medium","rounded-lg","shadow-sm","transition-colors","flex","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7,10 12,15 17,10"],["x1","12","y1","15","x2","12","y2","3"],[1,"text-sm","font-medium","text-slate-500"]],template:function(e,o){e&1&&(c(0,"header",0)(1,"div",1),j("click",function(){return o.onLogoClick()}),v(2,"img",2),c(3,"h1",3),D(4,"Bizzwords"),l()(),c(5,"div",4),ee(6,Ee,6,0,"button",5)(7,Ie,2,2,"div",6),l()()),e&2&&(h(6),S("ngIf",o.pwaService.showInstallButton()),h(),S("ngIf",o.showCardCount))},dependencies:[P,ie],styles:["[_nghost-%COMP%]{display:block}"]})};var R=class t{constructor(r){this.platformId=r}store=a(me);pwaService=a(b);shouldShowCardCount=_(()=>this.store.phase()==="PLAYING",{});currentCardIndex=_(()=>this.store.currentIndex(),{});totalCardCount=_(()=>this.store.activeDeck().length,{});ngOnInit(){this.pwaService.init()}static \u0275fac=function(e){return new(e||t)(X(Q))};static \u0275cmp=k({type:t,selectors:[["app-root"]],decls:4,vars:3,consts:[[1,"min-h-screen","bg-gradient-to-br","from-blue-50","to-indigo-100","font-sans","text-slate-800","flex","flex-col"],[3,"showCardCount","currentIndex","totalCards"],[1,"flex-grow","flex","flex-col","p-4","w-full","max-w-md","mx-auto","relative"]],template:function(e,o){e&1&&(c(0,"div",0),v(1,"app-header",1),c(2,"main",2),v(3,"router-outlet"),l()()),e&2&&(h(),S("showCardCount",o.shouldShowCardCount())("currentIndex",o.currentCardIndex())("totalCards",o.totalCardCount()))},dependencies:[P,de,T],styles:["[_nghost-%COMP%]{display:block}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};se(R,we).catch(t=>console.error(t));
